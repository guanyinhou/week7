(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0110ccc0"],{"73c5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-5 row no-gutterese justify-content-center"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orders,(function(e,s){return a("tr",{key:s,class:{"text-secondary":!e.paid}},[a("td",[t._v(t._s(e.created.datetime))]),a("td",[t._v(t._s(e.payment))]),a("td",[a("ul",{staticClass:"list-unstyled"},t._l(e.products,(function(e,s){return a("li",{key:s},[t._v(" "+t._s(e.product.title)+" 數量："+t._s(e.quantity)+" "+t._s(e.product.unit)+" ")])})),0)]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(e.amount))+" ")]),a("td",[e.paid?a("strong",{staticClass:"text-success"},[t._v("已付款")]):a("strong",{staticClass:"text-muted"},[t._v("未付款")])]),a("td",[a("div",{staticClass:"btn-group btn-geoup-sm"},[a("button",{staticClass:"btn btn-info",attrs:{disabled:e.paid},on:{click:function(a){return t.getDetail(e.id)}}},[t._v(" 選擇 ")])])])])})),0)])]),t._m(1),a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(2),a("tbody",t._l(t.order.products,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.quantity)+" / "+t._s(e.product.unit)+" ")]),a("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(e.product.price))+" ")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.amount)))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.paid?a("span",{staticClass:"text-success"},[t._v("完成付款")]):a("span",[t._v("尚未付款")])])])])]),a("div",{staticClass:"text-right"},[t.order.paid?a("button",{staticClass:"btn btn-danger",attrs:{type:"submit",disabled:""}},[t._v(" 確認付款 ")]):a("button",{staticClass:"btn btn-danger",attrs:{type:"submit"}},[t._v(" 確認付款 ")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("購買時間")]),a("th",[t._v("付款方式")]),a("th",[t._v("商品列表")]),a("th",[t._v("應付金額")]),a("th",[t._v("付款狀態")]),a("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("品項")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])])}],i=(a("99af"),{data:function(){return{order:{user:{}},orders:[],orderId:"",isLoading:!1}},created:function(){this.orderId=this.$route.params.orderId,this.orderId&&this.getDetail(this.orderId),this.getOrders()},methods:{getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/orders?page=").concat(e);this.$http.get(a).then((function(e){console.log(e),t.orders=e.data.data,t.isLoading=!1})).catch((function(e){console.dir(e),t.isLoading=!1}))},getDetail:function(t){var e=this;this.isLoading=!0,this.orderId=t;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/orders/").concat(t);this.$http.get(a).then((function(t){console.log(t),e.order=t.data.data,e.isLoading=!1})).catch((function(t){console.dir(t),e.isLoading=!1}))},payOrder:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(e).then((function(e){e.data.data.paid&&t.getDetail(t.orderId),t.getOrders()})).catch((function(t){console.dir(t)}))}}}),n=i,c=a("2877"),o=Object(c["a"])(n,s,r,!1,null,null,null);e["default"]=o.exports},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("d039"),i=a("e8b5"),n=a("861d"),c=a("7b0b"),o=a("50c4"),d=a("8418"),l=a("65f0"),u=a("1dde"),h=a("b622"),_=a("2d00"),v=h("isConcatSpreadable"),f=9007199254740991,p="Maximum allowed index exceeded",b=_>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=u("concat"),m=function(t){if(!n(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},y=!b||!g;s({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,s,r,i,n=c(this),u=l(n,0),h=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?n:arguments[e],m(i)){if(r=o(i.length),h+r>f)throw TypeError(p);for(a=0;a<r;a++,h++)a in i&&d(u,h,i[a])}else{if(h>=f)throw TypeError(p);d(u,h++,i)}return u.length=h,u}})}}]);
//# sourceMappingURL=chunk-0110ccc0.a2e9fd02.js.map